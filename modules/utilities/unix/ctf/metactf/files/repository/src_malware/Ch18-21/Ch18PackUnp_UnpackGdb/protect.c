#include <stdio.h>
#include <stdlib.h>
#include <string.h>

int main(int argc, char* argv[]) {
	if (argc < 2) {
		return 0;
	}

	long longBuffer;
	char* charBuffer = NULL;

	{
		FILE* fileHandle = fileHandle = fopen(argv[1], "r");

		{
			fseek(fileHandle, 0, SEEK_END);

			longBuffer = ftell(fileHandle);

			rewind(fileHandle);
		}

		{
			charBuffer = malloc(sizeof(char) * longBuffer);

			fread(charBuffer, longBuffer, 1, fileHandle);
		}

		fclose(fileHandle);
	}

	{
		for (long longFor1 = 0; longFor1 < longBuffer - 3; longFor1 += 1) {
			if (charBuffer[longFor1 + 0] == 'U') {
				if (charBuffer[longFor1 + 1] == 'P') {
					if (charBuffer[longFor1 + 2] == 'X') {
						charBuffer[longFor1 + 0] = 'Z';
						charBuffer[longFor1 + 1] = 'Z';
						charBuffer[longFor1 + 2] = 'Z';
					}
				}
			}
		}
	}

	{
		FILE* fileHandle = fileHandle = fopen(argv[1], "w");

		{
			fwrite(charBuffer, longBuffer, 1, fileHandle);
		}

		fclose(fileHandle);
	}

	free(charBuffer);
}

#include <stdio.h>
#include <stdbool.h>
#include "authentication_helper.c"
#include "notes.c"
<% require 'json'
	$password_get = @code["password_get"];
	$secret_function = @code["secret_function"];
%>
int main()
{
    printf("Hello, world!\n");

    <%= $password_get %>
    
    bool authenticated = login();
    if(authenticated)
    {
        // Now the user is authenticated
        printf("You are now logged in.");
        printf("Enter help for what commands you can use.");

        char command[15];
        scanf("%s", command);

        if(command == "help"){
            printf("Here are the list of commands you can use.");
        }
        else if(command == "list"){
            list_all_notes();
        }
        else if(command == "view"){
            view_note();
        }
        else if(command == "create"){
            create_note();
        }
        else if(command == "edit"){
            edit_note();
        }
        else if(command == "rename"){
            rename_note();
        }
        else if(command == "delete"){
            delete_note();
        }
        else {
            printf("Command unrecognised.");
        }
    }
    else
    {
        printf("Unable to log you in.");
    }

    return 0;
}

<%= $secret_function %>
